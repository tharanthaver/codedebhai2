2025-07-14 21:58:31,375 - INFO - PRODUCTION ROLLOVER SYSTEM CONFIGURATION
2025-07-14 21:58:31,376 - INFO - ============================================================
2025-07-14 21:58:31,376 - INFO - Enabled: True
2025-07-14 21:58:31,376 - INFO - Dry Run Mode: False
2025-07-14 21:58:31,376 - INFO - Notification Email: admin@codedebhai.com
2025-07-14 21:58:31,376 - INFO - Backup Enabled: True
2025-07-14 21:58:31,376 - INFO - Log Level: INFO
2025-07-14 21:58:31,376 - INFO - Max Retries: 3
2025-07-14 21:58:31,376 - INFO - Alert Threshold: 1000
2025-07-14 21:58:31,376 - INFO - Enable Alerts: True
2025-07-14 21:58:31,377 - INFO - ============================================================
2025-07-14 21:58:31,377 - INFO - STARTING MONTHLY ROLLOVER PROCESS
2025-07-14 21:58:31,377 - INFO - Rollover Date: 2025-07-14 21:58:31
2025-07-14 21:58:31,377 - INFO - BACKUP: Would create backup at backups/rollover_backup_20250714_215831.sql
2025-07-14 21:58:32,775 - INFO - HTTP Request: GET https://dnyejdazlypnefdqekhr.supabase.co/rest/v1/users?select=%2A&credits=gt.0 "HTTP/2 200 OK"
2025-07-14 21:58:32,781 - INFO - Found 3 users with credits to process
2025-07-14 21:58:32,781 - INFO - Processing rollover for Test User 1 (9999999001) with 10 credits
2025-07-14 21:58:33,421 - INFO - HTTP Request: GET https://dnyejdazlypnefdqekhr.supabase.co/rest/v1/payments?select=%2A&phone_number=eq.9999999001&order=created_at.desc&limit=1 "HTTP/2 200 OK"
2025-07-14 21:58:33,423 - INFO - ROLLOVER: Test User 1 (9999999001) - 10 credits rolled over (monthly plan within 1 month)
2025-07-14 21:58:33,423 - INFO - AUDIT: ROLLOVER - 9999999001 - 10 credits - monthly plan
2025-07-14 21:58:33,424 - INFO - Processing rollover for Test User 2 (9999999002) with 10 credits
2025-07-14 21:58:33,590 - INFO - HTTP Request: GET https://dnyejdazlypnefdqekhr.supabase.co/rest/v1/payments?select=%2A&phone_number=eq.9999999002&order=created_at.desc&limit=1 "HTTP/2 200 OK"
2025-07-14 21:58:33,595 - INFO - ROLLOVER: Test User 2 (9999999002) - 10 credits rolled over (power plan within 1 month)
2025-07-14 21:58:33,596 - INFO - AUDIT: ROLLOVER - 9999999002 - 10 credits - power plan
2025-07-14 21:58:33,596 - INFO - Processing rollover for Test User with 0 credits (9999999004) with 10 credits
2025-07-14 21:58:33,702 - INFO - HTTP Request: GET https://dnyejdazlypnefdqekhr.supabase.co/rest/v1/payments?select=%2A&phone_number=eq.9999999004&order=created_at.desc&limit=1 "HTTP/2 200 OK"
2025-07-14 21:58:33,709 - INFO - ROLLOVER: Test User with 0 credits (9999999004) - 10 credits rolled over (monthly plan within 1 month)
2025-07-14 21:58:33,709 - INFO - AUDIT: ROLLOVER - 9999999004 - 10 credits - monthly plan
2025-07-14 21:58:33,710 - INFO - 
============================================================
2025-07-14 21:58:33,710 - INFO - MONTHLY ROLLOVER REPORT
2025-07-14 21:58:33,710 - INFO - ============================================================
2025-07-14 21:58:33,711 - INFO - Rollover Date: 2025-07-14 21:58:31
2025-07-14 21:58:33,711 - INFO - Duration: 0:00:02.335937
2025-07-14 21:58:33,711 - INFO - Dry Run Mode: False
2025-07-14 21:58:33,711 - INFO - Total Users Processed: 3
2025-07-14 21:58:33,712 - INFO - Users with Credits Rolled Over: 3
2025-07-14 21:58:33,712 - INFO - Users with Credits Expired: 0
2025-07-14 21:58:33,712 - INFO - Total Credits Rolled Over: 30
2025-07-14 21:58:33,712 - INFO - Total Credits Expired: 0
2025-07-14 21:58:33,713 - INFO - ============================================================
2025-07-14 21:58:33,713 - INFO - MONTHLY ROLLOVER PROCESS COMPLETED
2025-07-14 21:58:33,713 - INFO - ============================================================
2025-07-14 21:58:33,713 - INFO - EMAIL NOTIFICATION: Monthly Rollover Completed - 2025-07-14
2025-07-14 21:58:33,713 - INFO - Body: 
Monthly Credit Rollover Report
==============================

Date: 2025-07-14 21:58:31
Duration: 0:00:02.335937
Dry Run Mode: False

Statistics:
- Total Users Processed: 3
- Users with Credits Rolled Over: 3
- Users with Credits Expired: 0
- Total Credits Rolled Over: 30
- Total Credits Expired: 0
- Errors: 0

Business Impact:
- Revenue Protected: 3 paying customers retained credits
- Churn Prevention: 30 credits preserved for active subscribers

System Status: PRODUCTION

